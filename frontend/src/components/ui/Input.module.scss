@use '../../styles/_tokens.scss' as *;

.field {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  width: 100%;
}

.label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-light);
  margin-bottom: 2px;
  transition: color var(--transition-fast);
}

.input {
  width: 100%;
  padding: 12px 16px;
  background: var(--color-surface);
  color: var(--color-text);
  border: 2px solid var(--border);
  border-radius: var(--radius-md);
  font-family: $font;
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  outline: none;
  transition: all var(--transition-fast);
  box-shadow: var(--shadow-xs);

  @include mobile {
    padding: 10px 14px;
    font-size: var(--font-size-sm);
  }

  &::placeholder {
    color: var(--color-muted-light);
  }

  &:hover:not(:disabled) {
    border-color: var(--color-muted);
  }

  &:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 4px var(--border-focus), var(--shadow-sm);
  }

  &:disabled {
    background: var(--color-surface-2);
    color: var(--color-muted);
    cursor: not-allowed;
    opacity: 0.6;
  }

  &[type="file"] {
    padding: 8px;
    cursor: pointer;

    &::file-selector-button {
      padding: 8px 16px;
      margin-right: 12px;
      background: var(--color-primary-gradient);
      color: var(--color-white);
      border: none;
      border-radius: var(--radius-sm);
      font-family: $font;
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--transition-fast);

      @include mobile {
        padding: 6px 12px;
        font-size: var(--font-size-xs);
      }

      &:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }
    }
  }
}

textarea.input {
  min-height: 100px;
  resize: vertical;
  font-family: $font;
  line-height: var(--line-height-relaxed);

  @include mobile {
    min-height: 80px;
  }
}

select.input {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b6b6b' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 36px;

  @include mobile {
    background-position: right 10px center;
    padding-right: 32px;
  }
}

.hint {
  font-size: var(--font-size-xs);
  color: var(--color-muted);
  margin-top: 4px;
  line-height: var(--line-height-normal);
}

/* Focus State for Label */
.field:focus-within .label {
  color: var(--color-primary);
}

/* Error State */
.field.error {
  .input {
    border-color: var(--color-danger);

    &:focus {
      box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1), var(--shadow-sm);
    }
  }

  .hint {
    color: var(--color-danger);
  }
}

/* Success State */
.field.success {
  .input {
    border-color: var(--color-success);

    &:focus {
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1), var(--shadow-sm);
    }
  }

  .hint {
    color: var(--color-success);
  }
}
